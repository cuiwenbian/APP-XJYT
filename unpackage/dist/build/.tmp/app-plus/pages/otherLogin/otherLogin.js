(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/otherLogin/otherLogin"],{1655:function(e,t,o){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={data:function(){return{phone:"",code:"",iscode:"",codename:" 获取验证码",disabled:!1,flag:!0}},methods:{getPhoneValue:function(e){11==e.detail.value.length&&(this.disabled=!1),this.phone=e.detail.value},getCodeValue:function(e){this.code=e.detail.value},getCode:function(){var t=this,n=/^(16[0-9]|14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9]|19[0-9])\d{8}$$/;return""==t.phone?(e.showToast({title:"手机号不能为空",icon:"none",duration:1e3}),!1):n.test(t.phone)?void e.request({method:"POST",data:{mobile:t.phone},url:t.url+"users/forgot/sms/",header:{"Content-Type":"application/x-www-form-urlencoded"},success:function(n){console.log(o(n," at pages\\otherLogin\\otherLogin.vue:75"));var a=n.statusCode;if(200==a){t.iscode=n.data.data;var i=61,u=setInterval(function(){i--,i<=0?(clearInterval(u),t.codename="重新发送",t.disabled=!1):(t.flag=!1,t.codename=i+"s",t.disabled=!0)},1e3)}else{if(400==a)return e.showToast({title:"用户不存在",icon:"none",duration:2e3}),!1;if(411==a)return e.showToast({title:"操作太频繁，请稍候重试",icon:"none",duration:2e3}),!1}}}):(e.showToast({title:"请输入正确的手机号",icon:"none",duration:1e3}),!1)},getCodeNumber:function(e){this.getCode()},login:function(){var t=this,n=/^(16[0-9]|14[0-9]|13[0-9]|15[0-9]|17[0-9]|18[0-9]|19[0-9])\d{8}$$/;return""==t.phone?(e.showToast({title:"手机号不能为空",icon:"none",duration:1e3}),!1):n.test(t.phone)?""==t.code?(e.showToast({title:"验证码不能为空",icon:"none",duration:1e3}),!1):t.code!=t.iscode?(e.showToast({title:"验证码错误",icon:"none",duration:1e3}),!1):void e.request({url:t.url+"users/login/",method:"POST",data:{mobile:t.phone,code:t.code},success:function(n){console.log(o(n," at pages\\otherLogin\\otherLogin.vue:159")),e.setStorageSync("phone",t.phone),e.setStorageSync("token",n.data.data),t.global_.phone=t.phone,t.global_.token=n.data.data,400==n.statusCode&&e.showToast({title:"验证码不正确",icon:"none"}),200==n.statusCode&&e.switchTab({url:"../index/index"})}}):(e.showToast({title:"请输入正确的手机号",icon:"none",duration:1e3}),!1)}}};t.default=n}).call(this,o("6e42")["default"],o("0de9")["default"])},"1b60":function(e,t,o){"use strict";(function(e){o("c860"),o("921b");n(o("66fd"));var t=n(o("ca74"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},"27c7":function(e,t,o){"use strict";o.r(t);var n=o("1655"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,function(){return n[e]})}(i);t["default"]=a.a},"7bc3":function(e,t,o){},"93ed":function(e,t,o){"use strict";var n=o("7bc3"),a=o.n(n);a.a},b574:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement;e._self._c},a=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return a})},ca74:function(e,t,o){"use strict";o.r(t);var n=o("b574"),a=o("27c7");for(var i in a)"default"!==i&&function(e){o.d(t,e,function(){return a[e]})}(i);o("93ed");var u=o("2877"),s=Object(u["a"])(a["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports}},[["1b60","common/runtime","common/vendor"]]]);